[{
    "given":
        {"foo": {"bar": ["zero", "one", "two"]}},
     "cases": [
         {
            "expression": "foo.bar[0]",
            "result": "zero"
         },
         {
            "expression": "foo.bar[1]",
            "result": "one"
         },
         {
            "expression": "foo.bar[2]",
            "result": "two"
         },
         {
            "expression": "foo.bar[3]",
            "result": null
         },
         {
            "expression": "foo.bar[-1]",
            "result": "two"
         },
         {
            "expression": "foo.bar[-2]",
            "result": "one"
         },
         {
            "expression": "foo.bar[-3]",
            "result": "zero"
         },
         {
            "expression": "foo.bar[-4]",
            "result": null
         }
     ]
},
{
    "given":
        {"foo": [{"bar": "one"}, {"bar": "two"}, {"bar": "three"}, {"notbar": "four"}]},
     "cases": [
         {
            "expression": "foo.bar",
            "result": null
         },
         {
            "expression": "foo[0].bar",
            "result": "one"
         },
         {
            "expression": "foo[1].bar",
            "result": "two"
         },
         {
            "expression": "foo[2].bar",
            "result": "three"
         },
         {
            "expression": "foo[3].notbar",
            "result": "four"
         },
         {
            "expression": "foo[3].bar",
            "result": null
         },
         {
            "expression": "foo[0]",
            "result": {"bar": "one"}
         },
         {
            "expression": "foo[1]",
            "result": {"bar": "two"}
         },
         {
            "expression": "foo[2]",
            "result": {"bar": "three"}
         },
         {
            "expression": "foo[3]",
            "result": {"notbar": "four"}
         },
         {
            "expression": "foo[4]",
            "result": null
         }
     ]
},
{
    "given": [
        "one", "two", "three"
    ],
     "cases": [
         {
            "expression": "[0]",
            "result": "one"
         },
         {
            "expression": "[1]",
            "result": "two"
         },
         {
            "expression": "[2]",
            "result": "three"
         },
         {
            "expression": "[-1]",
            "result": "three"
         },
         {
            "expression": "[-2]",
            "result": "two"
         },
         {
            "expression": "[-3]",
            "result": "one"
         }
     ]
},
{
    "given": {"reservations": [
        {"instances": [{"foo": 1}, {"foo": 2}]}
    ]},
    "cases": [
        {
           "expression": "reservations[].instances[].foo",
           "result": [1, 2]
        },
        {
           "expression": "reservations[].instances[].bar",
           "result": []
        },
        {
           "expression": "reservations[].notinstances[].foo",
           "result": []
        },
        {
           "expression": "reservations[].notinstances[].foo",
           "result": []
        }
    ]
},
{
    "given": {"reservations": [
        {"instances": [
            {"foo": [{"bar": 1}, {"bar": 2}, {"notbar": 3}, {"bar": 4}]},
            {"foo": [{"bar": 5}, {"bar": 6}, {"notbar": [7]}, {"bar": 8}]},
            {"foo": "bar"},
            {"notfoo": [{"bar": 5}, {"bar": 6}, {"notbar": [7]}, {"bar": 8}]}
        ]}
    ]},
    "cases": [
        {
           "expression": "reservations[].instances[].foo[].bar",
           "result": [1, 2, 4, 5, 6, 8]
        },
        {
           "expression": "reservations[].instances[].foo[].baz",
           "result": []
        },
        {
           "expression": "reservations[].notinstances[].foo",
           "result": []
        },
        {
           "expression": "reservations[].instances[].foo[].notbar",
           "result": [3, 7]
        }
    ]
},
{
    "given": {
        "foo": [
            [["one", "two"], ["three", "four"]],
            [["five", "six"], ["seven", "eight"]],
            [["nine"], ["ten"]]
        ]
     },
    "cases": [
        {
           "expression": "foo[][0]",
           "result": [["one", "two"], ["three", "four"]]
        },
        {
           "expression": "foo[][1]",
           "result": [["five", "six"], ["seven", "eight"]]
        },
        {
           "expression": "foo[][0][0]",
           "result": ["one", "two"]
        },
         {
            "expression": "foo[][1][0]",
            "result": ["five", "six"]
         },
         {
            "expression": "foo[][0][1]",
            "result": ["three", "four"]
         },
         {
            "expression": "foo[][1][1]",
            "result": ["seven", "eight"]
         },
         {
            "expression": "foo[][2][2]",
            "result": null
         },
         {
            "expression": "foo[][0][0][0]",
            "result": "one"
         },
         {
            "expression": "foo[][0][0][100]",
            "result": null
         }
    ]
}
]
